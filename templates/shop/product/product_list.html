{% extends "shop/base.html" %}
{% load static %}

{% block title %}
  {% if category %}{{ category.name }}{% else %}Products{% endif %}
{% endblock %}

{% block content %}
  <div class="product_list-container">
    <div class="product_list-sidebar">
        <h3 class="product_list-sidebar-title">Categories</h3>
        <ul class="product_list-category-list">
            <li class="product_list-category-item {% if not category %}product_list-selected{% endif %}">
                <a href="{% url "shop:product_list" %}">All</a>
            </li>
            {% for c in categories %}
                <li class="product_list-category-item {% if category.slug == c.slug %}product_list-selected{% endif %}">
                    <a href="{{ c.get_absolute_url }}">{{ c.name }}</a>
                </li>
            {% endfor %}
        </ul>
    </div>
    <div class="product_list-main">
        <h1 class="product_list-title">{% if category %}{{ category.name }}{% else %}Products{% endif %}</h1>
        <div class="product_list-items">
            {% if products %}
                {% for product in products %}
                    <div class="product_list-item">
                        <a href="{{ product.get_absolute_url }}">
                            <img class="product_list-image" src="{% if product.image %}{{ product.image.url }}{% else %}{% static "img/no_product_image.png" %}{% endif %}" alt="{{ product.name }}">
                        </a>
                        <a class="product_list-name" href="{{ product.get_absolute_url }}">{{ product.name }}</a>
                        <div class="product_list-price">â‚¹{{ product.price }}</div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="product_list-no-products">
                    No products found in this category.
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}